<html>
<head>
<link rel=stylesheet type=text/css href='styles.css'>
</head>
<body id = 'body' onload="nameCats()">
  <center>
    <table>
      <tr>
        <td><table id = 'catNamesTable'>

        </table>
        </td>
        <td><table><tr><td>
          <div id = 'cat1vContainer'>
            <div id = 'cat1'>
              <h2 id = 'cat1Name'>Name</h2>
              <img width = '300' id = 'cat1Image' src="">
            </div>
            <div><h3 id = 'counter1'>0</h3></div>
          </div></td><td>
          <div id = 'cat2vContainer'>
            <div id = 'cat2'>
              <h2 id = 'cat2Name'>Name</h2>
              <img width = '300' id = 'cat2Image' src = "">
            </div>
            <div><h3 id = 'counter2'>0</h3></div>
          </div>
        </td>
      </tr></table></td></tr>
    </table>
    <script>
    var catNames = ['Oliver', 'Sophie', 'Howie', 'Rory', 'Lucy'];
    var catImages = ['Oliver.jpeg', 'Sophie.jpeg', 'Howie.jpeg',
                    'Rory.jpeg', 'Lucy.jpeg'];
    var catCounts = [0,0,0,0,0];
    var img1 = document.getElementById('cat1Image');
    var img2 = document.getElementById('cat2Image');
    var name1 = document.getElementById('cat1Name');
    var name2 = document.getElementById('cat2Name');
    var counter1 = document.getElementById('counter1');
    var counter2 = document.getElementById('counter2');

      function nameCats() {

        var table = document.getElementById('catNamesTable');
        for (i = 0; i < catNames.length; i++){
          var row = table.insertRow(i);
          var cell = row.insertCell(0);
          cell.innerHTML = "<h3 id = catNames[i]><a onclick='showCat(" + i +
                          ")' href = '#'>" + catNames[i] + "</a></h3>";
        };

        //catNames.innerText = catTableText;
        //cat1Name.innerText = cat_name_1;
        //cat2Name.innerText = cat_name_2;
      }

      function updateCatView(catID, container){
        if (container == 0){
          img1.src = catImages[catID];
          name1.innerText = catNames[catID];
          counter1.innerText = catCounts[catID];
        }
        if (container == 1){
          img2.src = catImages[catID];
          name2.innerText = catNames[catID];
          counter2.innerText = catCounts[catID];
        }
      }

      function showCat(catID){
        if (img1.src.length == 0){
          updateCatView(catID, 0);
          console.log("image 1 blank");
        }
        else if (img1.src == catImages[catID]) {
          console.log("img 1 already showing cat");
        }
        else if (img2.src.length == 0) {
          updateCatView(catID, 1);
          console.log("image 2 blank");
        }
        else if (img2.src == catImages[catID]) {
          console.log("img 2 already showing cat");
        }
        else {
          let rando = (Math.random()>0.5)? 1 : 0;
          if (rando == 0){
            updateCatView(catID, 0);
            console.log("random 0");
          } else {
            updateCatView(catID, 1);
            console.log("random 1");
          }
        }
      }
      var elem = document.getElementById('cat1');
      elem.addEventListener('click', function(){
        var currentCount = document.getElementById('counter1').innerText;
        for(i = 0; i < catNames.length; i++){
          if (name1.innerText == catNames[i]){
            var catID = i;
          }
        };
        catCounts[catID]++;
        counter1.innerText = catCounts[catID];
      }, false);

      var elem2 = document.getElementById('cat2');
      elem2.addEventListener('click', function(){
        var currentCount2 = document.getElementById('counter2').innerText;
        for(i = 0; i<catNames.length; i++){
          if (name2.innerText == catNames[i]){
            var catID = i;
          }
        };
        catCounts[catID]++;
        counter2.innerText = catCounts[catID];
      }, false);


    </script>
  </center>
</body>
</html>
